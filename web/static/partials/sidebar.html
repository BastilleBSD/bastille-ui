{{define "sidebar"}}
<div class="sidebar">

    <div class="sidebar-header">
        <h3>Commands</h3>
        <input type="text" id="sidebar-search-bar" placeholder="Search commands..." class="sidebar-search-bar">
    </div>
    
    <div class="sidebar-links">
        <a class="button" href="/bastille/bootstrap">Bootstrap</a>
        <a class="button" href="/bastille/clone">Clone</a>
        <a class="button" href="/bastille/cmd">CMD</a>
        <a class="button" href="/bastille/config">Config</a>
        <a class="button" href="/bastille/console">Console</a>
        <a class="button" href="/bastille/convert">Convert</a>
        <a class="button" href="/bastille/cp">CP</a>
        <a class="button" href="/bastille/create">Create</a>
        <a class="button" href="/bastille/destroy">Destroy</a>
        <a class="button" href="/bastille/edit">Edit</a>
        <a class="button" href="/bastille/etcupdate">EtcUpdate</a>
        <a class="button" href="/bastille/export">Export</a>
        <a class="button" href="/bastille/htop">Htop</a>
        <a class="button" href="/bastille/import">Import</a>
        <a class="button" href="/bastille/jcp">JCP</a>
        <a class="button" href="/bastille/limits">Limits</a>
        <a class="button" href="/bastille/list">List</a>
        <a class="button" href="/bastille/migrate">Migrate</a>
        <a class="button" href="/bastille/monitor">Monitor</a>
        <a class="button" href="/bastille/mount">Mount</a>
        <a class="button" href="/bastille/network">Network</a>
        <a class="button" href="/bastille/pkg">PKG</a>
        <a class="button" href="/bastille/rcp">RCP</a>
        <a class="button" href="/bastille/rdr">RDR</a>
        <a class="button" href="/bastille/rename">Rename</a>
        <a class="button" href="/bastille/restart">Restart</a>
        <a class="button" href="/bastille/service">Service</a>
        <a class="button" href="/bastille/setup">Setup</a>
        <a class="button" href="/bastille/start">Start</a>
        <a class="button" href="/bastille/stop">Stop</a>
        <a class="button" href="/bastille/sysrc">Sysrc</a>
        <a class="button" href="/bastille/tags">Tags</a>
        <a class="button" href="/bastille/template">Template</a>
        <a class="button" href="/bastille/top">Top</a>
        <a class="button" href="/bastille/umount">Umount</a>
        <a class="button" href="/bastille/update">Update</a>
        <a class="button" href="/bastille/upgrade">Upgrade</a>
        <a class="button" href="/bastille/verify">Verify</a>
        <a class="button" href="/bastille/zfs">Zfs</a>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const searchInput = document.getElementById("sidebar-search-bar");
    if (!searchInput) return;

    searchInput.addEventListener("input", function () {
        const filter = this.value.toLowerCase();
        const buttons = document.querySelectorAll(".sidebar .sidebar-links a.button");

        buttons.forEach(button => {
            const text = button.textContent.toLowerCase();
            // Use flex or block based on your original button styling
            button.style.display = text.includes(filter) ? "" : "none"; 
        });
    });
});
</script>
{{end}}