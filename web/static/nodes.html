{{ define "content" }}
<h1>Managed Nodes</h1>

<table border="1" cellpadding="6" cellspacing="0">
  <tr>
    <th>Name</th>
    <th>IP</th>
    <th>Port</th>
    <th>API Key</th>
  </tr>

  {{ range .Nodes }}
  <tr>
    <td>{{ .Name }}</td>
    <td>{{ .IP }}</td>
    <td>{{ .Port }}</td>
    <td>{{ if .APIKey }}••••••{{ else }}(global){{ end }}</td>
    <td>
      <form method="POST" action="/api/v1/node/delete" style="margin:0;">
        <input type="hidden" name="node" value="{{ .Name }}">
        <button type="submit">Delete</button>
      </form>
    </td>
  </tr>
  {{ end }}
</table>

<hr>

<h2>Add Node</h2>
<h2>Add Node</h2>

<form method="POST" action="/api/v1/node/add" class="node-form">
  <label>Name</label>
  <input type="text" name="node" required>

  <label>IP Address</label>
  <input type="text" name="ip" required>

  <label>Port</label>
  <input type="text" name="port" value="8181" required>

  <label>API Key</label>
  <input type="text" name="apiKey" required>

  <button type="submit" class="button">Add Node</button>
</form>

{{ end }}
